/**
 * @formvuelate/plugin-vee-validate v1.0.0
 * (c) 2020 Abdelrahman Awad <logaretm1@gmail.com>
 * @license MIT
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("vee-validate")):"function"==typeof define&&define.amd?define(["exports","vue","vee-validate"],t):t(e["@formvuelate/pluginVeeValidate"]={},e.Vue,e.VeeValidate)}(this,function(e,b,g){"use strict";var d=function(e,t){return e.map(function(e){return e.map(function(e){return t(e)})})};function t(e){return{validation:e}}function c(v,p){var h=v.component;return{name:"withFieldWrapper",props:{modelValue:{type:[String,Number],default:void 0},validations:{type:[String,Object,Function],default:void 0}},setup:function(e,t){var n=t.attrs,r=b.toRefs(e),a=r.validations,i=r.modelValue,u=i?i.value:void 0,o=g.useField(n.model,a,{initialValue:u}),s=o.value,d=o.errorMessage,c=o.meta,l=o.setDirty,f=o.setTouched,m=o.errors;return i&&b.watch(i,function(e){s.value=e}),function(){return b.h(h,Object.assign({},e,n,p({errorMessage:b.unref(d),errors:b.unref(m),meta:c,setDirty:l,setTouched:f},v)))}}}}e.mapElementsInSchema=d,e.default=function(e){var s=e&&e.mapProps||t;return function(e){var t=e.parsedSchema,n=e.formBinds,r=b.getCurrentInstance().attrs,a=g.useForm({validationSchema:r["validation-schema"]||r.validationSchema}).handleSubmit,i=d(t.value,function(e){return Object.assign({},e,{component:b.markRaw(c(e,s))})}),u=n.value.onSubmit,o=a(function(e,t){var n=t.evt;u(n)});return Object.assign({},e,{formBinds:b.computed(function(){return Object.assign({},e.formBinds.value,{onSubmit:o})}),parsedSchema:b.computed(function(){return i})})}},e.withField=c,Object.defineProperty(e,"__esModule",{value:!0})});