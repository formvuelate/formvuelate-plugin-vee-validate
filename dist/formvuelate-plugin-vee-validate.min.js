/**
 * @formvuelate/plugin-vee-validate v1.0.3
 * (c) 2020 Abdelrahman Awad <logaretm1@gmail.com>
 * @license MIT
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("vee-validate")):"function"==typeof define&&define.amd?define(["exports","vue","vee-validate"],t):t(e["@formvuelate/pluginVeeValidate"]={},e.Vue,e.VeeValidate)}(this,function(e,y,b){"use strict";var l=function(e,t){return e.map(function(e){return e.map(function(e){return t(e)})})};function t(e){return{validation:e}}function d(v,p){var h=v.component;return{name:"withFieldWrapper",props:{modelValue:{type:[String,Number],default:void 0},validations:{type:[String,Object,Function],default:void 0}},setup:function(e,t){var i=t.attrs,n=y.toRefs(e),r=n.validations,a=n.modelValue,o=a?a.value:void 0,u=b.useField(i.model,r,{initialValue:o}),s=u.value,l=u.errorMessage,d=u.meta,c=u.setDirty,f=u.setTouched,m=u.errors;return a&&y.watch(a,function(e){s.value=e}),function(){return y.h(y.resolveDynamicComponent(h),Object.assign({},e,i,p({errorMessage:y.unref(l),errors:y.unref(m),meta:d,setDirty:c,setTouched:f},v)))}}}}e.mapElementsInSchema=l,e.default=function(e){var s=e&&e.mapProps||t;return function(e){var t=e.parsedSchema,i=e.formBinds,n=y.getCurrentInstance().attrs,r=b.useForm({validationSchema:n["validation-schema"]||n.validationSchema,initialErrors:n["initial-errors"]||n.initialErrors,initialDirty:n["initial-dirty"]||n.initialDirty,initialTouched:n["initial-touched"]||n.initialTouched}).handleSubmit,a=l(t.value,function(e){return Object.assign({},e,{component:y.markRaw(d(e,s))})}),o=i.value.onSubmit,u=r(function(e,t){var i=t.evt;o(i)});return Object.assign({},e,{formBinds:y.computed(function(){return Object.assign({},e.formBinds.value,{onSubmit:u})}),parsedSchema:y.computed(function(){return a})})}},e.withField=d,Object.defineProperty(e,"__esModule",{value:!0})});